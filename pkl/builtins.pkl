import "hk.pkl"

class Actionlint extends hk.Step {
    glob = new { ".github/workflows/*.{yml,yaml}" }
    check = "actionlint {{ files }}"
    check_all = "actionlint"
}

class CargoCheck extends hk.Step {
    glob = new { "**/*.rs" }
    check_all = "cargo check --all-features"
}

class CargoClippy extends hk.Step {
    glob = new { "**/*.rs" }
    check_all = "cargo clippy --all-features --allow-dirty --allow-staged"
    fix_all = "cargo clippy --all-features --fix --allow-dirty --allow-staged"
}

class CargoFmt extends hk.Step {
    glob = new { "**/*.rs" }
    check_all = "cargo fmt --check"
    fix_all = "cargo fmt"
}

class Eslint extends hk.Step {
    glob = new { "**/*.{js,jsx,ts,tsx}" }
    check = "eslint {{ files }}"
    fix = "eslint --fix {{ files }}"
    check_all = "eslint ."
    fix_all = "eslint --fix ."
}

class GoVet extends hk.Step {
    glob = new { "**/*.go" }
    check = "go vet {{ files }}"
    check_all = "go vet ."
}

class Jq extends hk.Step {
    glob = new { "**/*.json" }
    check = "jq . {{ files }}"
    fix = "jq -S . {{ files }}"
}

class Prettier extends hk.Step {
    glob = new { "**/*.{js,jsx,ts,tsx,css,scss,less,html,json,jsonc,yaml,markdown,markdown.mdx,graphql,handlebars,svelte,astro,htmlangular}" }
    check = "prettier --check {{ files }}"
    fix = "prettier --write {{ files }}"
    check_all = "prettier --check ."
    fix_all = "prettier --write ."
}

class Rubocop extends hk.Step {
    glob = new { "**/*.rb" }
    check = "rubocop {{ files }}"
    check_all = "rubocop ."
    fix = "rubocop --fix {{ files }}"
    fix_all = "rubocop --fix ."
}

class Rustfmt extends hk.Step {
    glob = new { "**/*.rs" }
    check = "rustfmt --check --edition 2024 {{ files }}"
    fix = "rustfmt --edition 2024 {{ files }}"
}

class Yq extends hk.Step {
    glob = new { "**/*.yaml" }
    check = "yq {{ files }}"
    fix = "yq -iP {{ files }}"
}

class Black extends hk.Step {
    glob = new { "**/*.py" }
    check = "black --check {{ files }}"
    fix = "black {{ files }}"
    check_all = "black --check ."
    fix_all = "black ."
}

class Shellcheck extends hk.Step {
    glob = new { "**/*.{sh,bash}" }
    check = "shellcheck {{ files }}"
    check_all = "shellcheck ."
}

class Hadolint extends hk.Step {
    glob = new { "**/Dockerfile*" }
    check = "hadolint {{ files }}"
}

class Markdownlint extends hk.Step {
    glob = new { "**/*.{md,markdown}" }
    check = "markdownlint {{ files }}"
    fix = "markdownlint --fix {{ files }}"
    check_all = "markdownlint ."
    fix_all = "markdownlint --fix ."
}

class Stylelint extends hk.Step {
    glob = new { "**/*.{css,scss,sass,less}" }
    check = "stylelint {{ files }}"
    fix = "stylelint --fix {{ files }}"
    check_all = "stylelint \"**/*.{css,scss,sass,less}\""
    fix_all = "stylelint --fix \"**/*.{css,scss,sass,less}\""
}

class SwiftLint extends hk.Step {
    glob = new { "**/*.swift" }
    check = "swiftlint lint {{ files }}"
    fix = "swiftlint --fix {{ files }}"
    check_all = "swiftlint"
    fix_all = "swiftlint --fix"
}

class Ktlint extends hk.Step {
    glob = new { "**/*.kt" }
    check = "ktlint {{ files }}"
    fix = "ktlint -F {{ files }}"
    check_all = "ktlint"
    fix_all = "ktlint -F"
}
